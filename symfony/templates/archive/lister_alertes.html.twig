{% extends 'basewithnavbar.html.twig' %}
{% block title %}Inventaire des Alertes{% endblock %}

{% block body %}
    <style>
        .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
        .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }

        .btn:not(:disabled):not(.disabled) {
            cursor: pointer;
        }
        .btn-primary {
            color: #fff;
            background-color: #00489a;
            border-color: #00489a;
        }
        .btn {
            display: inline-block;
            font-weight: 400;
            text-align: center;
            white-space: nowrap;
            vertical-align: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            border: 1px solid transparent;
            padding: 0.375rem 0.75rem;
            font-size: 1rem;
            line-height: 1.5;
            border-radius: 0.25rem;
            transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;
        }
        .img {
            background-repeat: no-repeat;
            background-size: 100% 100%;
            background-position: 0 0;
            width:35px;
            height:35px;
        }

        p {
            border-bottom: 1px solid grey;
        }

    </style>

    <script language="JavaScript">
        function openPopup(id)
        {
            var dialog = confirm("Supprimer le capteur ?");
            if (dialog) { document.location.href="/inventaire/supprimer_capteur/"+id;
            }
            else {
                document.location.href="/inventaire/lister_capteurs";
            }
        }

    </script>


    <div class="example-wrapper">
        <h1>{{ controller_name }}</h1>
        <br>
        <br>

        <div class="container">
            {% for room in rooms %}
                {% if room.isIsStock() != 1 %}

                    {% if room.getTempAlert.isAlert == 1 or room.getHumAlert.isAlert == 1 or room.getCo2Alert.isAlert == 1 %}
                        <p>
                            <img src="/img/warning_rouge.png" style="max-width: 30px;"> <!-- OU alerte_logo.png -->
                            {{ room.name }}<a> a un pb de température</a>
                            <a class="btn" style="display: flex; justify-content: right;" href="/admin/alerte/{{room.id}}/1">Voir le détails</a>
                        </p>
                    {% endif %}

                    {% if room.getHumAlert.isAlert == 1 %}
                        <p>
                            <img src="/img/warning_rouge.png" style="max-width: 30px;">
                            {{ room.name }}<a> a un pb d'humidité</a>
                            <a class="btn" style="display: flex; justify-content: right;" href="/admin/alerte/{{room.id}}/2">Voir le détails</a>
                        </p>
                    {% endif %}

                    {% if room.getCo2Alert.isAlert == 1 %}
                        <p>
                            <img src="/img/warning_rouge.png" style="max-width: 30px;">
                            {{ room.name }} <a> a un pb de CO2</a>
                            <a class="btn" style="display: flex; justify-content: right;" href="/admin/alerte/{{room.id}}/3">Voir le détails</a>
                        </p>
                    {% endif %}

                {% endif %}

            {% endfor %}

        </div>


    </div>
{% endblock %}
