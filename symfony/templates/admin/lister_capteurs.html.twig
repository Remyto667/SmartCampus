{% extends 'basewithnavbar.html.twig' %}
{% block title %}Hello AdminController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
    .btn:not(:disabled):not(.disabled) {
        cursor: pointer;
    }

    .btn-primary {
        color: #fff;
        background-color: #007bff;
        border-color: #007bff;
    }
    .btn {
        display: inline-block;
        font-weight: 400;
        text-align: center;
        white-space: nowrap;
        vertical-align: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        border: 1px solid transparent;
        padding: 0.375rem 0.75rem;
        font-size: 1rem;
        line-height: 1.5;
        border-radius: 0.25rem;
        transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;
    }
    tbody, td, tfoot, th, thead, tr {
        border-color: inherit;
        border-style: solid;
        border-width: 0;
    }
    th {
        text-align: inherit;
        text-align: -webkit-match-parent;
    }
    .table {

        width: 100%;
        margin-bottom: 1rem;
        vertical-align: top;
    }
    table {
        caption-side: bottom;
        border-collapse: collapse;
    }
    .img {
        background-repeat: no-repeat;
        background-size: 100% 100%;
        background-position: 0 0;
        width:35px;
        height:35px;
    }
    .update {
        background-image: url({{ asset('img/crayon_blanc.png') }});
    }
    .delete {
        background-image: url({{ asset('img/poubelle.png') }});
    }
</style>

<script language="JavaScript">
    function openPopup(id)
        {
            var dialog = confirm("Supprimer le capteur ?");
            if (dialog) { document.location.href="/admin/database/supprimer_capteur/"+id;
        }
    else {
                document.location.href="/admin/database/lister_capteurs";
    }
        }

</script>


<div class="example-wrapper">
    <h1>{{ controller_name }}âœ…</h1>


    <table class="table table-striped">
        <thead>
        <tr>
            <th scope="col"></th>
            <th scope="col">Nom</th>
            <th scope="col">Type</th>
            <th scope="col">State</th>
            <th scope="col">System</th>
            <th scope="col">Options</th>
        </tr>
        </thead>
        <tbody>
        {% for sensor in allSensor %}
            <tr>
                <th scope="row">{{ sensor.Sid }}</th>
                <td>{{ sensor.name  }}</td>
                <td>{{ sensor.type  }}</td>
                <td>{{ sensor.state  }}</td>
                <td>{{ sensor.id  }}</td>
                <td> <a class="btn btn-primary img update favorite" href="/admin/database/modifier_capteur/{{ sensor.Sid }}" role="button"></a>
                    <input class="btn btn-primary img delete favorite" type="button" name="test" onclick="openPopup({{ sensor.Sid }})"/></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>


    <a class="btn btn-primary" href="/admin/database/ajouter_capteur" role="button">Ajouter un Capteur</a>
</div>
{% endblock %}
